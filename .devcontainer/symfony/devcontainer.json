{
  // See https://aka.ms/devcontainer.json for format details
  "name": "Symfony Container",
  "dockerComposeFile": ["../../docker-compose.yml"],
  "service": "symfony",
  "features": {
    "ghcr.io/devcontainers/features/git:1": {}
  },
  "forwardPorts": [8000],

  //The path of the workspace folder inside the container.
  "workspaceFolder": "/workspace/app",
  "mounts": [
    "source=${localEnv:HOME}/.gitconfig,target=/home/vscode/.gitconfig,type=bind,consistency=cached"
  ],

  "postCreateCommand": {
    "symfony": "composer install"
  },

  "postAttachCommand": {
    "symfony": "symfony server:start --daemon"
  },

  "customizations": {
    "vscode": {
      "settings": {},
      "extensions": [
        "xdebug.php-debug",
        "bmewburn.vscode-intelephense-client",
        "xdebug.php-pack",
        "devsense.phptools-vscode"
      ]
    }
  }
}
